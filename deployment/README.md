‚òÅÔ∏è Weather-Bot
–ü—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–≥–æ–¥–µ. –ë–æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ –±–∞–∑–µ Python (Telegram-–±–æ—Ç), C++ (–±—ç–∫–µ–Ω–¥ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –∏ –ë–î) –∏ Kafka –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–≥–æ–¥–∞: –ü–æ–ª—É—á–∞–π—Ç–µ —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –¥–ª—è –ª—é–±–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –º–∏—Ä–∞.

–ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.

–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
Python: –î–ª—è Telegram-–±–æ—Ç–∞ (python-telegram-bot –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API Telegram, aiokafka –¥–ª—è Kafka).

C++: –î–ª—è –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–∞ (Drogon –¥–ª—è –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –∏ ORM, cppkafka –¥–ª—è Kafka).

Apache Kafka: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.

PostgreSQL: –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–¥–ø–∏—Å–æ–∫.

OpenWeatherMap API: –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ.

üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Docker –∏ Docker Compose. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ª–µ–≥–∫–æ –ø–æ–¥–Ω—è—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Kafka, Zookeeper, PostgreSQL) –∏ —Å–æ–±—Ä–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã.

1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

Bash

git clone <https://github.com/ivanchetvergov/weather-bot>
cd weather-bot
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

# Telegram Bot Token
TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù

# OpenWeatherMap API Key
OPENWEATHER_API_KEY=–í–ê–®_OPENWEATHERMAP_API_–ö–õ–Æ–ß

# Kafka Brokers (–µ—Å–ª–∏ –Ω–µ localhost:9092)
KAFKA_BROKERS=kafka:9092

–ü–æ–ª—É—á–∏—Ç–µ –í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù —É BotFather –≤ Telegram.

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ OpenWeatherMap –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –í–ê–®_OPENWEATHERMAP_API_–ö–õ–Æ–ß.

2. –ó–∞–ø—É—Å–∫ —Å Docker Compose
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å –ø–æ–º–æ—â—å—é Docker Compose:

Bash

docker-compose up --build
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

–°–æ–±–µ—Ä–µ—Ç Docker-–æ–±—Ä–∞–∑—ã –¥–ª—è Python-–±–æ—Ç–∞ –∏ C++ –±—ç–∫–µ–Ω–¥–∞.

–ü–æ–¥–Ω–∏–º–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è Kafka, Zookeeper –∏ PostgreSQL.

–í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã.

–ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, —Ç–∞–∫ –∫–∞–∫ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –æ–±—Ä–∞–∑—ã –∏ —Å–æ–±–∏—Ä–∞—Ç—å—Å—è C++ –±—ç–∫–µ–Ω–¥.

‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è)
python_bot/: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Telegram-–±–æ—Ç–∞ –Ω–∞ Python.

cpp_backend/: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ C++.

services/: –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, KafkaMessageService).

command_logic/: –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, /start, /weather).

parsers/: –ü–∞—Ä—Å–µ—Ä—ã –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π Kafka.

models/: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Drogon ORM –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

docker-compose.yml: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

config.json: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è C++ –±—ç–∫–µ–Ω–¥–∞ (–≤–∫–ª—é—á–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –∏ Kafka).

sql/: SQL-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü.

